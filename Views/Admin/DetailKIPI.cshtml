@using PharmacovigilanceEtana.Models
@{
    ViewBag.Title = "DetailKIPI";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    List<ListDetailInternalVaccine> vaccine = ViewBag.ListDetailInternalVaccine;
    List<ShowDetailManifestation> manifestations = ViewBag.ShowDetailManifestation;
    List<ShowDetailTreatMent> treatMents = ViewBag.ShowDetailTreatMent;
}

<style>
    .title {
        background-color: #00a0e0;
        padding: 8px;
        color: white;
        text-align: center;
        margin-top: 20px;
    }

    .subtitle {
        margin-top: -5px;
        text-align: center;
        margin-bottom: 20px;
    }

    .titleQ {
        font-size: 14px !important;
        font-weight: bold !important;
    }

    .SubtitleQ {
        margin-top: -20px;
        font-size: 14px !important;
        font-style: italic;
        margin-bottom: 4px !important;
    }

    .black {
        background-color: grey !important;
        margin-top: -10px !important;
        padding: 4px !important;
        text-align: left !important;
    }

    .leftmargin {
        text-align: left !important;
    }

    .required {
        color: red;
    }
</style>

<div class="jumbotron" style="background-image: url('../../Asset/bgslider.png'); background-position: right;">
    <div class="container" style="padding-top:40px;">

        <button class="btn btn-default" id="printPageButton" style="margin-bottom:20px;" onClick="window.print();"> <i class="fa fa-print"></i>  Print / Save </button>
        <table class="table-bordered" style="width:100%;">
            <tr>
                <td rowspan="2" style="padding:20px;">
                    <img style="width:100px;" src="~/Asset/Etana_logo.png" class="img-responsive" alt="Alternate Text" />
                    <br />
                    <h5 class="headertitle">PT ETANA BIOTECHNOLOGIES INDONESIA  </h5>
                </td>

                <td rowspan="2" style="padding:20px;">
                    <center>
                        <h4 class="headertitle">Pelaporan Kejadian Ikutan Pasca Imunisasi </h4>
                    </center>
                    <center>
                        <h4 class="headertitle"> <I>Reporting Adverse Events After Immunization</I></h4>
                    </center>
                    <center>
                        <h4 class="headertitle" style="font-size:15px;"> <I id="LetterNo"></I></h4>
                    </center>
                </td>
                <!--<td style="padding:20px;">
            <h4 class="headertitle">Document No :</h4>
            <h4 class="headertitle">-->
                @*@NoDocument.Replace("_", "/")*@
                <!--</h4>
            </td>
            <td style="padding:20px;">
                <h4 class="headertitle">Effective Date :</h4>
                <h4 class="headertitle">-->
                @*@EffectiveDate.Replace("_", "/")*@
                <!--</h4>
            </td>-->
            </tr>




        </table>



        <hr />
        <br />

        <form action="/" method="post" id="FormKIPI">
            <h3>FORMULIR KEJADIAN IKUTAN PASCA IMUNISASI (KIPI)</h3>
            <h4> <i>POST-IMMUNIZATION FOLLOWING EVENT FORM (KIPI) </i></h4>

            <hr />
            <br />
            <h4 class="title">
                Identitas Pasien
            </h4>
            <h5 class="subtitle">
                <i>
                    Patient Identity
                </i>
            </h5>

            <div class="row">
                <div class="col-md-6">
                    <p class="titleQ">Nama <b class="required">*</b> </p>
                    <p class="SubtitleQ">Name <b class="required">*</b></p>
                    <input type="text" class="form-control" id="Name" name="name" value="" required />
                    <p class="titleQ">Nama Orang Tua <b class="required">*</b></p>
                    <p class="SubtitleQ">Parents Name <b class="required">*</b></p>
                    <input type="text" class="form-control" id="Parent" name="name" value="" required />
                    <p class="titleQ">Alamat</p>
                    <p class="SubtitleQ">Address</p>
                    <textarea class="form-control" id="Address"></textarea>
                    <p class="titleQ">Kab / Kota<b class="required">*</b></p>
                    <p class="SubtitleQ">City<b class="required">*</b></p>
                    <input type="text" class="form-control" id="City" name="name" value="" />
                    <p class="titleQ">Telp / Hp <b class="required">*</b></p>
                    <p class="SubtitleQ">Phone <b class="required">*</b></p>
                    <input type="text" class="form-control" name="name" value="" id="Phone" required />
                    <p class="titleQ">Email <b class="required">*</b></p>
                    <p class="SubtitleQ">Email <b class="required">*</b></p>
                    <input type="email" class="form-control" name="name" value="" id="Email" required />



                </div>
                <div class="col-md-6">


                    <p class="titleQ">Kode Pos </p>
                    <p class="SubtitleQ">Postal Code </p>
                    <input type="text" class="form-control" name="name" value="" id="PostalCode" />
                    <p class="titleQ">Umur <b class="required">*</b></p>
                    <p class="SubtitleQ">Age <b class="required">*</b></p>
                    <input type="number" class="form-control" name="name" value="" id="Age" required />
                    <p class="titleQ">Jenis Kelamin <b class="required">*</b></p>
                    <p class="SubtitleQ">Sex <b class="required">*</b></p>
                    <input type="text" class="form-control" id="Sex" name="name" value="" />
                    <p class="titleQ">Bagi Wanita Usia Subur (WUS)</p>
                    <p class="SubtitleQ">For Women of Childbearing Age (WUS) </p>
                    <input type="text" class="form-control" id="Wus" name="name" value="" />
                    <p class="titleQ">Keadaan Umum Sebelum Imunisasi</p>
                    <p class="SubtitleQ">General condition before immunization</p>
                    <input type="text" class="form-control" name="name" id="KU" value="" />
                </div>
            </div>
            <h4 class="title">
                Identitas Pelapor
            </h4>
            <h5 class="subtitle">
                <i>
                    Reporting Identity

                </i>
            </h5>
            <div class="row">
                <div class="col-md-6">
                    <p class="titleQ">Nama Pelapor <b class="required">*</b> </p>
                    <p class="SubtitleQ">Reporter Name <b class="required">*</b></p>
                    <input type="text" class="form-control" id="ReporterName" name="name" value="" required />
                    <p class="titleQ">Alamat</p>
                    <p class="SubtitleQ">Address</p>
                    <textarea class="form-control" id="ReporterAddress"></textarea>

                    <p class="titleQ">Kab/Kota</p>
                    <p class="SubtitleQ">City</p>
                    <input type="text" class="form-control" id="ReporterCity" name="name" value="" required />




                </div>
                <div class="col-md-6">

                    <p class="titleQ">Telp / Hp <b class="required">*</b></p>
                    <p class="SubtitleQ">Phone <b class="required">*</b></p>
                    <input type="text" class="form-control" name="name" value="" id="RepoterPhone" required />

                    <p class="titleQ">Email<b class="required">*</b></p>
                    <p class="SubtitleQ">Email <b class="required">*</b></p>
                    <input type="email" class="form-control" name="name" value="" id="RepoterEmail" required />

                    <p class="titleQ">Kode Pos <b class="required">*</b></p>
                    <p class="SubtitleQ">Postal Code <b class="required">*</b></p>
                    <input type="number" class="form-control" name="name" value="" id="ReporterPostalCode" required />
                    <p class="titleQ">Pemberi Imunisasi <b class="required">*</b></p>
                    <p class="SubtitleQ">Immunization Giver<b class="required">*</b></p>
                    <input type="text" placeholder="Dokter/Bidan/Perawat/Jurim/Others " class="form-control" name="name" value="" id="ImmunizationGiver" required />
                </div>
            </div>


            <h4 class="title">
                Vaksin-vaksin yang diberikan dalam 4 minggu terakhir
            </h4>
            <h5 class="subtitle">
                <i>
                    Vaccines given in the last 4 weeks

                </i>
            </h5>
            @{

                int counting = 0;

            }
            @foreach (var item in vaccine)
            {

                counting = counting + 1;


        <div class="VaccinteItem">
            <div class="row">
                <div class="col-md-5 col-sm-5 col-xs-5"> <hr /></div>
                <div class="col-md-2 col-sm-2 col-xs-2"> <h3 style="text-align:center;margin-top:0px;">Vaccine @counting</h3> </div>
                <div class="col-md-5 col-sm-5 col-xs-5"> <hr /></div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <p class="titleQ">Nama Vaccine <b class="required">*</b></p>
                    <p class="SubtitleQ">Vaccine Name<b class="required">*</b></p>
                    <input type="text" class="form-control" name="name" value="@item.ProductName" readonly />
                </div>
                <div class="col-md-4">
                    <p class="titleQ">Nomor Bets</p>
                    <p class="SubtitleQ">Batch Number</p>
                    <input type="text" class="form-control" id="V_BatchNo0" name="name" value="@item.BatchNo" readonly />
                </div>
                <div class="col-md-4">
                    <p class="titleQ">Produsen</p>
                    <p class="SubtitleQ">Manufactur</p>
                    <input type="text" class="form-control" id="V_Manufactur0" name="name" value="@item.Manufactur" readonly />
                </div>
            </div>
            <br />
            <br />
            <div class="row">
                <h4 class="title black">Informasi Pemberian Vaksin</h4>
                <h5 class="subtitle leftmargin"><i>Vaccine Administration Information</i></h5>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <p class="titleQ">Tanggal<b class="required">*</b></p>
                    <p class="SubtitleQ">Date<b class="required">*</b></p>
                    @{

                    }
                    <input type="text" class="form-control" id="V_Date0" name="name" value="@item.Date" required readonly />
                </div>
                <div class="col-md-4">
                    <p class="titleQ">Rute Pemberian</p>
                    <p class="SubtitleQ">Route Of Administration</p>
                    <input type="text" class="form-control" id="V_Date0" name="name" value="@item.Route" required readonly />

                </div>
                <div class="col-md-4">
                    <p class="titleQ">Lokasi Penyuntikan</p>
                    <p class="SubtitleQ">Injection Site</p>
                    <input type="text" class="form-control" id="V_InjectionSite0" name="name" value="@item.InjectionSite" readonly />
                </div>
            </div>


            <div class="row">
                <div class="col-md-4">
                    <p class="titleQ">Jumlah Dosis</p>
                    <p class="SubtitleQ">Total Dose</p>
                    <input type="text" class="form-control" id="V_TotalDose0" name="name" readonly value="@item.TotalDose" />
                </div>
                <div class="col-md-4">
                    <p class="titleQ">Kondisi Obat</p>
                    <p class="SubtitleQ">Drug Condition</p>
                    <input type="text" class="form-control" id="V_Date0" name="name" value="@item.ConditionDrug" required readonly />

                    <br />
                </div>
                <div class="col-md-4">
                    <p class="titleQ">Nama fasilitas kesehatan tempat imunisasi</p>
                    <p class="SubtitleQ">Name of healthcare facility where immunization given</p>
                    <input type="text" class="form-control" id="V_HealthcareFacility0" name="name" value="@item.HealthcareFacility" readonly />
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <p class="titleQ">Jam</p>
                    <p class="SubtitleQ">Time</p>
                    <input type="text" class="form-control" id="V_TotalDose0" name="name" readonly value="@item.Time" />
                </div>

            </div>

        </div>
                <br />
                <br />
            }

            <h4 class="title">
                Manifestasi Kejadian Ikutan (keluhan, gejala klinis)
            </h4>
            <h5 class="subtitle">
                <i>
                    Manifestations of Adverse Events (complaints, clinical symptoms)
                </i>
            </h5>

            <div class="row">
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <td colspan="2">
                                    <center>
                                        Keluhan & Gejala Klinis / Complaints and Clinical Symptoms
                                    </center>
                                </td>
                                <td colspan="2">
                                    <center>
                                        Waktu Gejala Timbul / Symptoms Appear
                                    </center>
                                </td>
                                <td colspan="2">
                                    <center>
                                        Lama gejala / Duration Of Symptoms
                                    </center>
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    Check Box
                                </td>
                                <td>
                                    Keluhan & Gejala Klinis <b class="required">*</b>
                                    / Complaints and Clinical Symptoms <b class="required">*</b>
                                </td>
                                <td>
                                    Tanggal / Date <b class="required">*</b>
                                </td>
                                <td>
                                    Jam / Time
                                </td>



                                <td>
                                    Jam / Time
                                </td>
                                <td>
                                    Hari / Day
                                </td>



                            </tr>
                            @{
                                int Numbercs = 0;
                            }
                            @foreach (var item in manifestations)
                            {
                                <tr>
                                    <td>
                                        <center>
                                            <input type="checkbox" checked disabled />
                                        </center>
                                    </td>
                                    <td>
                                        <input type="text" name="name" class="form-control" value="@item.Title" readonly />

                                    </td>
                                    <td>
                                        <input type="text" name="name" value="@item.DateSymptoms" class="form-control" readonly />
                                    </td>
                                    <td>
                                        <input type="text" name="name" value="@item.TimeSymptoms" class="form-control" readonly />
                                    </td>
                                    <td>
                                        <input type="text" name="name" value="@item.DurationSymptoms" class="form-control" readonly />
                                    </td>
                                    <td>
                                        <input type="text" name="name" value="@item.DayStmptoms" class="form-control" readonly />
                                    </td>

                                </tr>
                            }









                        </thead>
                    </table>
                </div>
            </div>


            <div class="row">
                <div class="col-md-6">

                    <p class="titleQ">Perawatan / Tindakan <b class="required">*</b></p>
                    <p class="SubtitleQ">Treatment / Action <b class="required">*</b></p>





                    @foreach (var item in treatMents)
                    {
                        if (item.Name == "Rawat Jalan" || item.Name == "Rawat Inap")
                        {
                            <label>
                                <input type="checkbox" checked disabled onchange="TreatmentChecked()" id="TreatmentAction1" value="Rawat Jalan">
                                @item.Name Pada Tanggal <input readonly type="text" id="DateTreatmentAction1" name="name" value="@item.DateTreatmentAction">
                            </label>
                        }
                        else if (item.Name == "Di Rujuk")
                        {
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" checked disabled onchange="TreatmentChecked()" id="TreatmentAction3" value="Di Rujuk ">

                                    Di Rujuk Ke
                                    <input id="HospitalTreatmentAction3" readonly type="text" name="name" value="@item.HospitalTreatmentAction" /> Tanggal / Date <input id="DateTreatmentAction3" type="date" />
                                </label>
                            </div>
                        }
                        else
                        {
                            <div class="checkbox">
                                <label><input checked disabled id="TreatmentAction0" onchange="TreatmentChecked()" type="checkbox" value="Tindakan Darurat / Emergency measures" required="required">@item.Name</label>
                            </div>
                        }

                    }

                </div>

                <div class="col-md-6">
                    <p class="titleQ">Kondisi Akhir Pasien <b class="required">*</b></p>
                    <p class="SubtitleQ">Patient's Final Condition <b class="required">*</b></p>

                    <input class="form-control" name="FinalConditionPatient" id="FinalConditionPatient" type="text" required>
                    <br />
                    <p class="SubtitleQ die">Die At <b class="required">*</b></p>
                    <input class="form-control die" name="FinalConditionPatient" id="FinalConditionPatientDieDate" type="text" required>

                </div>

            </div>


            <div class="row">
                <div class="col-md-6">
                    <p class="titleQ">Apakah ada anak/pasien lain yang diimunisasi pada saat yang sama mengalami gejala serupa? <b class="required">*</b></p>
                    <p class="SubtitleQ">Did any other children/patients who were immunized at the same time experience similar symptoms? <b class="required">*</b></p>
                    <input type="text" class="form-control" id="SymptomsImmunized" name="name" value="" />

                    <p class="titleQ">Pengobatan KIPI <b class="required">*</b></p>
                    <p class="SubtitleQ">Treatment KIPI <b class="required">*</b></p>
                    <textarea class="form-control" id="TreatmentKIPI" required></textarea>
                </div>
                <div class="col-md-6">
                    <p class="titleQ">Apakah ada anak/pasien lain yang tidak diimunisasi pada saat yang sama mengalami gejala serupa ? <b class="required">*</b></p>
                    <p class="SubtitleQ">Did any other children/patients who were not immunized at the same time experience similar symptoms? <b class="required">*</b></p>
                    <input type="text" class="form-control" id="SymptomsNotImmunized" name="name" value="" />


                    <p class="titleQ">Informasi kesehatan lainnya (alergi, kelainan kongenital, dalam terapi obat-obatan tertentu) <b class="required">*</b></p>
                    <p class="SubtitleQ">Other health information (allergies, congenital disorders, certain drug therapy) <b class="required">*</b></p>
                    <textarea class="form-control" id="OtherHealthInformation" required></textarea>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <p class="titleQ">Apakah Anda bersedia dihubungi untuk membantu Anda melengkapi data di formulir ini (bila diperlukan)? <b class="required">*</b></p>
                    <p class="SubtitleQ">Are you willing to be contacted to help you complete this form (if necessary)? <b class="required">*</b></p>

                    <input type="text" class="form-control" id="WillingContacted" name="name" value="" />

                </div>

                <div class="col-md-12">
                    <p class="titleQ">Penerima Laporan <b class="required">*</b></p>
                    <p class="SubtitleQ">Received By <b class="required">*</b></p>

                    <input type="text" class="form-control" id="ReceivedBy" name="name" value="" />

                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <p class="titleQ">File Pendukung</p>
                    <p class="SubtitleQ">Supporting Files</p>

                    <div class="SupportingFiles">

                    </div>
                </div>


            </div>


        </form>


        <br />
        <br />


    </div>
</div>

<br />
<br />
<br />
<br />

<br />
<br />
<br />
<br />




<script>
    var Id = '@Request["Idx"].ToString()';
</script>